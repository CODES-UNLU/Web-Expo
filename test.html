<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Vocacional UNLu</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <div class="header-row">
        <img src="logoLSIUNLu.svg" alt="Logo Sistemas" />
        <h1>Test Vocacional UNLu</h1>
        <img src="LogoCodes.png" alt="Logo CODES" />
      </div>
    </header>
    <div class="container">
  <div id="inicio">
    <p>üì± Completalo y descubr√≠ tus posibles afinidades universitarias</p>
    <button id="btnIniciar" class="btn">Iniciar test</button>
  </div>

  <form id="testForm" style="display: none;">
    <div class="question paso" data-paso="1">
      <h3>1. ¬øQu√© tipo de actividades disfrut√°s m√°s?</h3>
      <label><input type="radio" name="q1" value="logico" required> Resolver problemas matem√°ticos o l√≥gicos</label><br>
      <label><input type="radio" name="q1" value="artistico"> Expresar ideas mediante arte o escritura</label><br>
      <label><input type="radio" name="q1" value="social"> Ayudar y trabajar con personas</label><br>
      <label><input type="radio" name="q1" value="manual"> Manipular objetos o construir</label><br>
      <button type="button" class="btn siguiente">Siguiente</button>
    </div>

    <div class="question paso" data-paso="2" style="display: none;">
      <h3>2. ¬øEn qu√© ambiente te sent√≠s c√≥modo trabajando?</h3>
      <label><input type="radio" name="q2" value="oficina" required> Oficina o frente a una computadora</label><br>
      <label><input type="radio" name="q2" value="airelibre"> Al aire libre</label><br>
      <label><input type="radio" name="q2" value="educativo"> En instituciones educativas</label><br>
      <label><input type="radio" name="q2" value="taller"> Laboratorios o talleres</label><br>
      <button type="button" class="btn siguiente">Siguiente</button>
    </div>

    <div class="question paso" data-paso="3" style="display: none;">
      <h3>3. ¬øQu√© te motiva a seguir aprendiendo?</h3>
      <label><input type="radio" name="q3" value="resolver" required> Resolver nuevos problemas</label><br>
      <label><input type="radio" name="q3" value="crear"> Crear contenido visual o textual</label><br>
      <label><input type="radio" name="q3" value="ayudar"> Acompa√±ar procesos de otros</label><br>
      <label><input type="radio" name="q3" value="experimentar"> Hacer cosas con las manos</label><br>
      <button type="button" class="btn siguiente">Siguiente</button>
    </div>

    <div class="question paso" data-paso="4" style="display: none;">
      <label for="email">Tu correo para enviarte el resultado:</label><br>
      <input type="email" id="email" name="email" required><br>
      <button type="submit" class="btn">Enviar y ver resultado</button>
    </div>
  </form>

  <div id="resultado" style="display: none;">
    <h2>¬°Gracias por participar!</h2>
    <p id="textoResultado"></p>
    <p>Revis√° tu correo o acercate al stand del Centro de Estudiantes.</p>
  </div>
</div>

<script>
  const btnIniciar = document.getElementById("btnIniciar");
  const inicio = document.getElementById("inicio");
  const form = document.getElementById("testForm");
  const pasos = document.querySelectorAll(".paso");
  const resultado = document.getElementById("resultado");
  const textoResultado = document.getElementById("textoResultado");

  let pasoActual = 0;

  btnIniciar.addEventListener("click", () => {
    inicio.style.display = "none";
    form.style.display = "block";
    pasos[pasoActual].style.display = "block";
  });

  document.querySelectorAll(".siguiente").forEach((btn, index) => {
    btn.addEventListener("click", () => {
      const currentPaso = pasos[index];
      const inputs = currentPaso.querySelectorAll("input[type='radio']");
      const checked = Array.from(inputs).some(input => input.checked);
      if (!checked) {
        alert("Seleccion√° una opci√≥n antes de continuar");
        return;
      }

      currentPaso.style.display = "none";
      pasoActual++;
      pasos[pasoActual].style.display = "block";
    });
  });

  form.addEventListener("submit", function (e) {
    e.preventDefault();
    const data = new FormData(form);
    const q1 = data.get("q1");
    let carrera = "";

    switch (q1) {
      case "logico": carrera = "Lic. en Sistemas de Informaci√≥n"; break;
      case "artistico": carrera = "Lic. en Comunicaci√≥n"; break;
      case "social": carrera = "Lic. en Psicopedagog√≠a"; break;
      case "manual": carrera = "Tec. en Mecanizaci√≥n Agropecuaria"; break;
      default: carrera = "Diversas opciones";
    }

    textoResultado.textContent = `Seg√∫n tus respuestas, podr√≠as tener afinidad con: ${carrera}`;
    form.style.display = "none";
    resultado.style.display = "block";

    // Enviar a Google Apps Script (reemplazar por tu URL)
    fetch("TU_URL_AQUI", {
      method: "POST",
      body: JSON.stringify({
        email: data.get("email"),
        q1: data.get("q1"),
        q2: data.get("q2"),
        q3: data.get("q3"),
        sugerencia: carrera,
        timestamp: new Date().toISOString()
      }),
      headers: { "Content-Type": "application/json" }
    });
  });
</script>

</html>
